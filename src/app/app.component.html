<div class="app-container" [class.table-view-active]="currentView === 'table'">
  <header>
    <h1>{{ title }}</h1>
  </header>
  <div class="toolbar-container">
    <app-view-toolbar 
      [currentView]="currentView"
      (viewChange)="onViewChange($event)">
    </app-view-toolbar>
    <app-action-toolbar 
      [currentView]="currentView"
      (addBook)="onAddBook()">
    </app-action-toolbar>
  </div>
  <main>
    <app-timeline 
      *ngIf="currentView === 'timeline'"
      (viewBook)="onViewBook($event)">
    </app-timeline>
    <app-table-view 
      *ngIf="currentView === 'table'"
      (viewBook)="onViewBook($event)">
    </app-table-view>
    <app-graph-view 
      *ngIf="currentView === 'graph'"
      (viewBook)="onViewBook($event)">
    </app-graph-view>
    <app-collections-view 
      *ngIf="currentView === 'collections'"
      (viewBook)="onViewBook($event)">
    </app-collections-view>
    <app-settings-view 
      *ngIf="currentView === 'settings'">
    </app-settings-view>
  </main>

  <!-- Book Details Drawer -->
  <div class="drawer-overlay" *ngIf="isBookDetailsOpen" (click)="onBookDetailsClosed()"></div>
  <div class="book-details-drawer" [class.open]="isBookDetailsOpen">
    <app-book-details
      [book]="selectedBook"
      [isOpen]="isBookDetailsOpen"
      (closed)="onBookDetailsClosed()"
      (bookSaved)="onBookSaved()"
      (bookDeleted)="onBookDeleted($event)">
    </app-book-details>
  </div>
</div>
