<div 
  class="book-item card-base clickable" 
  [class.finished]="book.status === BookStatus.Finished"
  [class.reading]="book.status === BookStatus.Reading"
  [class.on-hold]="book.status === BookStatus.OnHold"
  [class.abandoned]="book.status === BookStatus.Abandoned"
  (click)="onItemClick()">
  <div class="book-cover-container">
    <div class="book-cover" [class.has-image]="book.imageUrl && !imageError">
      <img 
        *ngIf="book.imageUrl && !imageError" 
        [src]="book.imageUrl" 
        [alt]="book.title + ' cover'"
        (error)="onImageError($event)">
      <div *ngIf="!book.imageUrl || imageError" class="cover-placeholder">
        <span class="placeholder-icon">ğŸ“š</span>
        <span class="placeholder-text">No Cover</span>
      </div>
    </div>
  </div>
  <div class="book-info">
    <div class="book-header">
      <h3 class="book-title-link">{{ book.title }}</h3>
    </div>
    <p class="author">by {{ book.author }}</p>
    <div class="book-details">
      <p *ngIf="book.readingStartDate" class="detail-item"><strong>Started:</strong> {{ book.readingStartDate | date:'mediumDate' }}</p>
      <p *ngIf="book.readingEndDate" class="detail-item"><strong>Finished:</strong> {{ book.readingEndDate | date:'mediumDate' }}</p>
    </div>
    <div class="book-tags" *ngIf="book.tags && book.tags.length > 0">
      <span class="tag-display" *ngFor="let tag of book.tags">{{ tag }}</span>
    </div>
  </div>
  <div class="col">
    <div class="book-status">
      <span class="status-badge" [class]="'status-' + book.status">{{ book.status }}</span>
    </div>
    <div class="book-rating" *ngIf="book.rating && book.rating !== BookRating.None">
      <span class="rating-icon-display" [class]="'rating-' + book.rating" [title]="getRatingLabel(book.rating)">
        <span *ngIf="book.rating === BookRating.Positive">ğŸ‘</span>
        <span *ngIf="book.rating === BookRating.Negative">ğŸ‘</span>
        <span *ngIf="book.rating === BookRating.Favourite">â¤ï¸</span>
      </span>
    </div>
  </div>
</div>
